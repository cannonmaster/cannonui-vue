import{c as _,_ as S}from"./_plugin-vue_export-helper.a85d8817.js";import{w as A,v as D}from"./runtime-dom.esm-bundler.649806c0.js";/* empty css                       */import{r as C,d as b,e as y,f as z,t as V,o as r,c as u,g as $,h as c,b as o,i as f,n as E,j as v,w as O,k as j,l as k}from"./runtime-core.esm-bundler.23703bfe.js";const{componentName:se,create:M}=_("searchbar"),R=M({props:{clearable:{type:[Boolean],default:!0},inputType:{type:[String],default:"textarea"},shape:{type:[String],default:""},label:{type:[String],default:""},disabled:{type:[Boolean],default:!1},autoFocus:{type:[Boolean],default:!1},readonly:{type:[Boolean],default:!1},background:{type:[String],default:""},inputBackground:{type:[String],default:""},maxLength:{type:[Number],default:9999},focusStyle:{type:Object,default:{}},modelValue:{type:[String,Number],default:""},placeholder:{type:[String],default:""},inputAlign:{type:[String],default:"left"}},emits:["search","update:modelValue","change","blur","click-input","click-left-icon","click-right-icon","clear"],setup(e,{emit:a}){const s=C({active:!1}),d=b(()=>({background:e.background})),h=b(()=>({background:e.inputBackground})),p=l=>{let t=l.target.value;e.maxLength&&t.length>Number(e.maxLength)&&(t=t.slice(0,Number(e.maxLength))),a("update:modelValue",t,l),a("change",t,l)},n=y({}),i=l=>{l.target.value,s.active=!0,n.value=e.focusStyle},B=l=>{setTimeout(()=>{s.active=!1},0);let t=l.target.value;e.maxLength&&t.length>Number(e.maxLength)&&(t=t.slice(0,Number(e.maxLength))),n.value={},a("blur",t,l)},w=l=>{a("update:modelValue","",l),a("change","",l),a("clear","")},I=l=>{a("click-input",l)},N=()=>{a("search",e.modelValue)},L=l=>{a("click-left-icon",e.modelValue,l)},F=l=>{a("click-right-icon",e.modelValue,l)},T=b(()=>({textAlign:e.inputAlign})),g=y(null);return z(()=>{e.autoFocus&&g.value?.focus()}),{inputSearch:g,...V(s),valueChange:p,valueFocus:i,valueBlur:B,handleClear:w,handleSubmit:N,searchbarStyle:d,inputSearchbarStyle:h,focusCss:n,clickInput:I,leftIconClick:L,rightIconClick:F,styleSearchbar:T}}}),U={key:0,class:"cannonui-searchbar__label"},G={class:"cannonui-searchbar__content"},q={class:"cannonui-searchbar__input-wrap"},H=["type","maxLength","placeholder","value","disabled","readOnly"],J={key:1,class:"cannonui-searchbar__search-icon cannonui-searchbar__right-search-icon"};function K(e,a,s,d,h,p){return r(),u("view",{class:"cannonui-searchbar",style:v(e.searchbarStyle)},[e.label?(r(),u("span",U,$(e.label),1)):c("",!0),o("view",G,[e.$slots.leftin?(r(),u("view",{key:0,class:"cannonui-searchbar__icon cannonui-searchbar__leftin-icon",onClick:a[0]||(a[0]=(...n)=>e.leftIconClick&&e.leftIconClick(...n))},[f(e.$slots,"leftin",{},void 0,!0)])):c("",!0),o("view",q,[o("form",{action:"#",onSubmit:a[5]||(a[5]=A((...n)=>e.handleSubmit&&e.handleSubmit(...n),["prevent"]))},[o("input",{type:e.inputType,ref:"inputSearch",maxLength:e.maxLength,placeholder:e.placeholder,value:e.modelValue,disabled:e.disabled,readOnly:e.readonly,onClick:a[1]||(a[1]=(...n)=>e.clickInput&&e.clickInput(...n)),onInput:a[2]||(a[2]=(...n)=>e.valueChange&&e.valueChange(...n)),onFocus:a[3]||(a[3]=(...n)=>e.valueFocus&&e.valueFocus(...n)),onBlur:a[4]||(a[4]=(...n)=>e.valueBlur&&e.valueBlur(...n)),class:E([e.shape==="round"?"cannonui-searchbar__round":"","cannonui-searchbar__input"]),style:v(e.styleSearchbar)},null,46,H)],32),e.clearable?O((r(),u("view",{key:0,onClick:a[6]||(a[6]=(...n)=>e.handleClear&&e.handleClear(...n)),class:"cannonui-searchbar__clear"}," Clear ",512)),[[D,String(e.modelValue).length>0]]):c("",!0)]),e.$slots.rightin?(r(),u("view",{key:1,class:"cannonui-searchable__search-icon cannonui-searchbar__iptright-search-icon",onClick:a[7]||(a[7]=(...n)=>e.rightIconClick&&e.rightIconClick(...n))},[f(e.$slots,"rightin",{},void 0,!0)])):c("",!0)]),e.$slots.rightout?(r(),u("view",J,[f(e.$slots,"rightout",{},void 0,!0)])):c("",!0)],4)}const P=S(R,[["render",K],["__scopeId","data-v-57527b1c"]]),Q={en:{h2_title:{basic:"Basic",round:"Round",leftText:"left label"}},"zh-CN":{h2_title:{basic:"基本使用",round:"圆角",leftText:"左标签"}}},W={props:{lang:{type:String,default:"en"}},emits:[],components:{SearchBar:P},setup(e){const{lang:a}=e,s=C({searchValue:"",...Q[a]});return{...V(s)}}},X={class:"phone"},Y=o("div",{class:"phone-top"},"Search",-1),Z={class:"phone-content"},x=o("h3",null,null,-1),ee=o("div",{class:"phone-bottom"},null,-1);function ae(e,a,s,d,h,p){const n=j("SearchBar");return r(),u("div",X,[Y,o("div",Z,[o("h3",null,$(e.h2_title.basic),1),k(n,{modelValue:e.searchValue,"onUpdate:modelValue":a[0]||(a[0]=i=>e.searchValue=i),placeholder:e.h2_title.basic,background:"cyan","focus-style":{border:"1px solid cyan"}},null,8,["modelValue","placeholder"]),x,k(n,{modelValue:e.searchValue,"onUpdate:modelValue":a[1]||(a[1]=i=>e.searchValue=i),placeholder:e.h2_title.round,background:"yellow",label:e.h2_title.leftText,shape:"round","focus-style":{border:"1px solid cyan"}},null,8,["modelValue","placeholder","label"])]),ee])}const re=S(W,[["render",ae]]);export{re as default};
