import{r as a}from"./index.f1bc5ebf.js";/* empty css                       */import{j as s}from"./jsx-runtime.109e40f8.js";const f={source:{type:{},src:""},options:{controls:!0,muted:!1,autoplay:!1,poster:"",playsinline:!1,loop:!1}},n=r=>{const{children:h,source:o,options:t,className:l,play:c,pause:u,playEnd:p,onPlayFuc:d,onPauseFuc:y,onPlayend:m,...v}={...f,...r},i=a.useRef(null);a.useEffect(()=>{x()},[]);const x=()=>{if(i.current){const e=i.current;t.autoplay&&setTimeout(()=>{e.play()},200),t.playsinline&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",String(t.playsinline)),e.setAttribute("x5-video-player-type","h5-page"),e.setAttribute("x5-video-player-fullscreen","false")),e.addEventListener("play",()=>{d&&d(e),c&&c(e)}),e.addEventListener("pause",()=>{y&&y(e),u&&u(e)}),e.addEventListener("ended",()=>{e.currentTime=0,m&&m(e),p&&p(e)})}};return s.jsx("div",{className:"chihuoui-video",children:s.jsxs("video",{className:"chihuoui-video-player",muted:t.muted,autoPlay:t.autoplay,loop:t.loop,poster:t.poster,controls:t.controls,ref:i,src:o.src,children:[s.jsx("source",{src:o.src,type:o.type}),s.jsx("track",{kind:"captions"})]})})};n.defaultProps=f;n.displayName="ChihuouiVideo";const E=()=>{const[r,h]=a.useState({src:"https://storage.360buyimg.com/nutui/video/video_NutUI.mp4",type:"video/mp4"}),o={autoplay:!1,muted:!0,controls:!0,poster:"https://img12.360buyimg.com/ling/s345x208_jfs/t1/168105/33/8417/54825/603df06dEfcddc4cb/21f9f5d0a1b3dad4.jpg.webp"},t=l=>{console.log("play",l)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"demo",children:[s.jsx("h2",{children:"基础用法"}),s.jsx(n,{source:r,options:o,onPlayFuc:t})]})})};export{E as default};
